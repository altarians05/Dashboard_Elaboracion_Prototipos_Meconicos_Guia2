<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 5: Calipherworldker - Mundo del Calibrador</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ESTILOS GLOBALES ESTANDARIZADOS */
        :root { 
            --sena-green: #39A900; 
            --sena-blue: #00324D; 
            --sena-orange: #FF6C00; 
            --bg-body: #F4F6F9; 
            --bg-card: #FFFFFF; 
            --text-gray: #59667a; 
            --shadow: 0 4px 20px rgba(0,0,0,0.05); 
            --radius: 12px; 
            --menu-width: 300px; 
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background-color: var(--bg-body); color: var(--sena-blue); line-height: 1.6; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* HEADER */
        header { 
            background-color: var(--bg-card); 
            padding: 1rem 2rem; 
            display: flex; 
            align-items: center; 
            justify-content: space-between; /* Esto empuja los elementos a los extremos y al centro */
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); 
            z-index: 100; 
            position: sticky; 
            top: 0; 
        }

        .header-center {
            text-align: center;
            flex: 1; /* Esto hace que el contenedor del título ocupe el espacio central */
        }

.header-left {
    display: flex;
    align-items: center; /* Alinea verticalmente al centro el logo y el texto */
    gap: 15px; /* Espacio constante entre el logo y el botón */
}
        .back-btn { text-decoration: none; color: var(--sena-blue); font-weight: bold; display: flex; align-items: center; gap: 10px; transition: color 0.3s; }
        .back-btn:hover { color: var(--sena-orange); }

        /* LAYOUT */
        .main-layout { display: flex; flex: 1; max-width: 1400px; margin: 2rem auto; gap: 2rem; width: 100%; padding: 0 20px; }
        .sidebar { width: var(--menu-width); background: var(--bg-card); border-radius: var(--radius); box-shadow: var(--shadow); padding: 1.5rem; height: fit-content; position: sticky; top: 6rem; }
        .sidebar h3 { font-family: 'Montserrat'; color: var(--sena-green); margin-bottom: 1.5rem; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        
        /* MENU ITEMS CON ICONOS */
        .menu-item { display: flex; align-items: center; gap: 12px; padding: 12px 15px; margin-bottom: 8px; border-radius: 8px; cursor: pointer; transition: all 0.3s; color: var(--text-gray); font-weight: 500; position: relative; }
        .menu-item img { width: 25px; height: auto; transition: transform 0.3s; }
        .menu-item:hover { background: #f0fdf4; color: var(--sena-green); }
        .menu-item:hover img { transform: scale(1.1); }
        .menu-item.active { background: var(--sena-green); color: white; box-shadow: 0 4px 10px rgba(57, 169, 0, 0.3); }
        .menu-item.completed::after { content: '\f00c'; font-family: "Font Awesome 6 Free"; font-weight: 900; position: absolute; right: 15px; color: var(--sena-green); }
        .menu-item.active.completed::after { color: white; }

        /* BARRA DE PROGRESO EN SIDEBAR */
        .progress-container { margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; }
        .progress-label { font-size: 0.8rem; color: var(--text-gray); margin-bottom: 5px; display: flex; justify-content: space-between; }
        .progress-bar-bg { width: 100%; height: 10px; background: #eee; border-radius: 5px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: var(--sena-orange); width: 0%; transition: width 0.5s ease; }

        /* CONTENIDO */
        .content-area { flex: 1; background: var(--bg-card); border-radius: var(--radius); box-shadow: var(--shadow); padding: 2.5rem; min-height: 600px; position: relative; }
        .activity-section { display: none; animation: fadeIn 0.5s ease; }
        .activity-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .section-header { margin-bottom: 2rem; }
        .section-header h2 { font-family: 'Montserrat'; color: var(--sena-blue); font-size: 1.8rem; margin-bottom: 0.5rem; }
        .section-header p { color: var(--text-gray); }
        
        /* BOTONES DE NAVEGACIÓN */
        .nav-buttons { display: flex; justify-content: center; gap: 20px; margin-top: 3rem; border-top: 1px solid #eee; padding-top: 2rem; }
        .btn-nav { padding: 12px 25px; border-radius: 30px; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 10px; }
        .btn-prev { background: #e0e0e0; color: var(--text-gray); }
        .btn-prev:hover { background: #d0d0d0; }
        .btn-next { background: var(--sena-blue); color: white; }
        .btn-next:hover { background: var(--sena-orange); transform: translateY(-2px); box-shadow: 0 4px 10px rgba(255, 108, 0, 0.3); }

	.btn-finalizar {
    background: linear-gradient(135deg, var(--sena-green), #2d8500);
    color: white;
    border: none;
    padding: 16px 40px;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 6px 15px rgba(57, 169, 0, 0.4);
    display: inline-flex;
    align-items: center;
    gap: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.btn-finalizar:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 20px rgba(57, 169, 0, 0.5);
    background: linear-gradient(135deg, #45cc00, var(--sena-green));
}

.btn-finalizar:active {
    transform: translateY(1px);
}

.btn-continuar-curso {
    background: linear-gradient(135deg, var(--sena-orange), #ff8c00);
    color: white;
    border: none;
    padding: 14px 35px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 108, 0, 0.3);
    border: 2px solid rgba(255,255,255,0.2);
}

.btn-continuar-curso:hover {
    background: white;
    color: var(--sena-orange);
    transform: scale(1.1);
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.6);
}

        /* COMPONENTES ESPECÍFICOS */
        .info-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 2rem; align-items: center; margin-bottom: 2rem; }
        .info-card-detail { background: #f8fafc; padding: 20px; border-radius: 10px; border-left: 4px solid var(--sena-green); }
        .btn-download { background: var(--sena-orange); color: white; text-decoration: none; padding: 15px 30px; border-radius: 50px; display: inline-flex; align-items: center; gap: 10px; font-weight: bold; margin-top: 20px; box-shadow: 0 4px 0 #d85b00; transition: transform 0.2s; }
        .btn-download:active { transform: translateY(2px); box-shadow: 0 1px 0 #d85b00; }

        /* TARJETAS DE BIOSEGURIDAD */
        .safety-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 1rem; }
        .safety-card { background: white; border: 1px solid #eee; border-radius: 10px; padding: 20px; text-align: center; transition: 0.3s; position: relative; overflow: hidden; }
        .safety-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); border-color: var(--sena-orange); }
        .safety-icon { font-size: 2.5rem; margin-bottom: 15px; display: block; }
        .safety-warning .safety-icon { color: #fbc02d; }
        .safety-forbidden .safety-icon { color: #d32f2f; }
        .safety-obligatory .safety-icon { color: #1976d2; }
        
        /* LISTA RECOMENDACIONES */
        .rec-list { list-style: none; }
        .rec-item { display: flex; align-items: flex-start; gap: 15px; background: #fff; border: 1px solid #eee; padding: 15px; margin-bottom: 10px; border-radius: 8px; transition: 0.2s; }
        .rec-item:hover { background: #f0fdf4; border-color: var(--sena-green); }
        .rec-icon { min-width: 40px; height: 40px; background: var(--sena-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }

        /* INTERACTIVIDAD CALIBRADOR (Partes) */
        .caliper-parts { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0; }
        .part-btn { padding: 8px 15px; border: 1px solid var(--sena-blue); background: white; border-radius: 20px; cursor: pointer; color: var(--sena-blue); font-weight: 500; transition: 0.3s; }
        .part-btn:hover, .part-btn.active { background: var(--sena-blue); color: white; }
        .part-display { background: #e3f2fd; padding: 20px; border-radius: 10px; text-align: center; margin-top: 10px; border: 2px dashed var(--sena-blue); display: none; }
        .part-display.visible { display: block; animation: fadeIn 0.3s; }

        /* REFLEXIÓN CHAT */
        .chat-container { background: #f1f1f1; padding: 20px; border-radius: 15px; margin-top: 20px; max-height: 400px; overflow-y: auto; }
        .chat-bubble { padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; max-width: 80%; }
        .bot-bubble { background: white; color: var(--sena-blue); border-top-left-radius: 0; align-self: flex-start; }
        .user-bubble { background: var(--sena-green); color: white; border-top-right-radius: 0; margin-left: auto; }
        .chat-input-area { display: flex; gap: 10px; margin-top: 10px; }
        .chat-input { flex: 1; padding: 10px; border-radius: 20px; border: 1px solid #ccc; }

        /* JUEGO RETROALIMENTACIÓN */
        .game-area { background: #fff3e0; padding: 2rem; border-radius: var(--radius); text-align: center; }
        .clue-box { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; font-size: 1.2rem; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .word-options { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        .word-btn { padding: 10px 20px; background: var(--sena-blue); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: 0.3s; }
        .word-btn:hover { background: var(--sena-orange); transform: scale(1.05); }
        
        /* OVERLAY CELEBRACION */
        #celebration-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 50, 77, 0.98);
            display: none; flex-direction: column; align-items: center; justify-content: center;
            z-index: 2000; color: white; text-align: center; padding: 20px;
        }
        .badge-anim { 
            width: 350px; max-width: 80vw;
            animation: pulseBadge 2.5s infinite ease-in-out; 
            margin-bottom: 30px; 
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.4));
        }
        @keyframes pulseBadge {
            0% { transform: scale(1); filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.3)); }
            50% { transform: scale(1.05); filter: drop-shadow(0 0 40px rgba(255, 255, 255, 0.6)); }
            100% { transform: scale(1); filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.3)); }
        }

        @media (max-width: 768px) { .main-layout { flex-direction: column; } .sidebar { width: 100%; position: static; } .info-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
   <header>
    <div class="header-left">
        <img src="imagenes/Logos/sena.png" alt="Logo SENA" style="height: 45px; width: auto;">
        
        <a href="index.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Volver al Centro de Comando
        </a>
    </div>
    
    <div class="header-center">
        <h2 style="font-family: 'Montserrat'; font-size: 0.9rem; color: var(--sena-blue); margin: 0;text-transform: uppercase;
    letter-spacing: 1px;">
            Módulo 5: Apropiación
        </h2>
    </div>

    <img src="imagenes/Logos/tecnoacademia.jpeg" alt="Logo TecnoAcademia" style="height: 45px; width: auto;">
</header>

    <div class="main-layout">
        <aside class="sidebar">
            <h3><i class="fas fa-list-ul"></i> Ruta del Módulo</h3>
            <div id="menu-1" class="menu-item active" onclick="goToSection(1)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_S.png" alt="Icon S"> Portada & Misión
            </div>
            <div id="menu-2" class="menu-item" onclick="goToSection(2)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_T.png" alt="Icon T"> Contexto: El Calibrador
            </div>
            <div id="menu-3" class="menu-item" onclick="goToSection(3)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_E.png" alt="Icon E"> Video Instruccional
            </div>
            <div id="menu-4" class="menu-item" onclick="goToSection(4)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_A.png" alt="Icon A"> Bioseguridad
            </div>
            <div id="menu-5" class="menu-item" onclick="goToSection(5)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_M.png" alt="Icon M"> Recomendaciones
            </div>
            <div id="menu-6" class="menu-item" onclick="goToSection(6)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_S.png" alt="Icon S"> Reto Maker
            </div>
            <div id="menu-7" class="menu-item" onclick="goToSection(7)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_T.png" alt="Icon T"> Evaluación Final
            </div>

            <div class="progress-container">
                <div class="progress-label">
                    <span>Progreso del Módulo</span>
                    <span id="progress-text">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progress-bar"></div>
                </div>
            </div>
        </aside>

        <main class="content-area">
            
            <div id="sec-1" class="activity-section active">
                <div class="section-header">
                    <h2><i class="fas fa-flag"></i> ACTIVIDADES DE APROPIACIÓN</h2>
                </div>
                
                <div class="info-grid">
                    <div style="text-align: center;">
                        <img src="imagenes/Personajes/tecnoBot/para talleres_Mesa de trabajo 1.png" alt="TecnoBot" style="max-width: 100%; animation: float 3s ease-in-out infinite;">
                        <style>@keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }</style>
                    </div>
                    <div>
                        <div class="info-card-detail">
                            <h3 style="color: var(--sena-orange); margin-bottom: 10px;">Calipherworldker (Mundo del calibrador para Makers)</h3>
                            <p><strong><i class="fas fa-bullseye"></i> Técnica:</strong> Resolución de retos.</p>
                            <p><strong><i class="fas fa-clock"></i> Duración:</strong> 6 horas (4 Presenciales, 2 Desescolarizadas).</p>
                            <p><strong><i class="fas fa-tools"></i> Materiales:</strong> Calibrador (Pie de Rey), papel, lápiz.</p>
                            <p><strong><i class="fas fa-clipboard-check"></i> Evidencia:</strong> Dibujos técnicos con medidas precisas.</p>
                            
                            <hr style="margin: 15px 0; border: 0; border-top: 1px solid #ddd;">
                            
                            <p style="font-size: 0.9rem;">Bienvenido al desafío de precisión. Aquí aprenderás a dominar la herramienta fundamental de todo ingeniero mecánico: El Calibrador Pie de Rey. Sin medidas exactas, ¡ningún robot funciona!</p>
                        </div>

                        <div style="text-align: center;">
                            <a href="documentos/Anexos/Anexo_G2_Taller 4_ Calipherworldker (Mundo del calibrador para makers)/Anexo_G2_Taller 4_ Calipherworldker (Mundo del calibrador para makers).pdf" target="_blank" class="btn-download">
                                <i class="fas fa-file-pdf"></i> Descargar Guía de Misión (PDF)
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="sec-2" class="activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-microscope"></i> ¿Qué es un Calibrador?</h2>
                </div>
                <p>El <strong>Pie de Rey</strong> o Calibrador Vernier no es una regla común. Es un instrumento de alta precisión inventado por Pierre Vernier en 1631. Permite medir décimas e incluso centésimas de milímetro.</p>
                
                <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center;">
                    <img src="imagenes/Otros/calibrador.png" alt="Diagrama Calibrador" style="max-width: 80%; border-radius: 8px;">
                    <p style="font-size: 0.8rem; color: #666; margin-top: 5px;">[Imagen de referencia: Partes del Calibrador]</p>
                </div>

                <h3>Explora las partes:</h3>
                <div class="caliper-parts">
                    <button class="part-btn" onclick="showPart('mordazas-ext')">Mordazas Exteriores</button>
                    <button class="part-btn" onclick="showPart('mordazas-int')">Mordazas Interiores</button>
                    <button class="part-btn" onclick="showPart('sonda')">Sonda de Profundidad</button>
                    <button class="part-btn" onclick="showPart('nonio')">Nonio (Escala Móvil)</button>
                </div>

                <div id="desc-mordazas-ext" class="part-display">
                    <h4><i class="fas fa-arrows-alt-h"></i> Mordazas para Exteriores</h4>
                    <p>Son las mandíbulas grandes inferiores. Sirven para medir el ancho, largo o diámetro externo de un objeto (como un tornillo o una esfera).</p>
                </div>
                <div id="desc-mordazas-int" class="part-display">
                    <h4><i class="fas fa-compress-arrows-alt"></i> Mordazas para Interiores</h4>
                    <p>Son las pequeñas mandíbulas superiores. Se introducen dentro de agujeros o tubos para medir su diámetro interno.</p>
                </div>
                <div id="desc-sonda" class="part-display">
                    <h4><i class="fas fa-arrow-down"></i> Sonda de Profundidad</h4>
                    <p>Es la varilla delgada que sale por el extremo derecho. Se usa para medir qué tan profundo es un agujero o una cavidad.</p>
                </div>
                <div id="desc-nonio" class="part-display">
                    <h4><i class="fas fa-ruler-combined"></i> Nonio</h4>
                    <p>Es la escala que se desliza. Es el "secreto" de la precisión, permitiendo leer las medidas que están entre los milímetros de la regla principal.</p>
                </div>
            </div>

            <div id="sec-3" class="activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-video"></i> Instrucción Técnica</h2>
                </div>

                <div style="display: flex; gap: 20px; margin-bottom: 20px; background: #fff8e1; padding: 20px; border-radius: 10px; align-items: center;">
                    <img src="imagenes/Personajes/Maker/Maker hombre CIENCIAS.png" alt="Avatar Maker" style="height: 120px;">
                    <div>
                        <h4 style="color: var(--sena-orange);">¡Atención Maker!</h4>
                        <p>Ya sabes que existen herramientas de medición, es hora de utilizar nuestra popular herramienta llamada el calibrador o Pie de Rey. Observa el siguiente video con atención para aprender la técnica correcta de lectura.</p>
                    </div>
                </div>

                <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <iframe src="https://www.youtube.com/embed/CEJuZ2_kXmI" title="Uso del Calibrador" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen></iframe>
                </div>
            </div>

            <div id="sec-4" class="activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-shield-alt"></i> Seguridad Industrial</h2>
                    <p>Antes de medir, asegúrate de estar seguro. Identifica los riesgos en el taller.</p>
                </div>

                <h3 style="color: #fbc02d; margin-top: 20px;">1. Advertencias de Peligro</h3>
                <div class="safety-grid">
                    <div class="safety-card safety-warning">
                        <i class="fas fa-bolt safety-icon"></i>
                        <h4>Riesgo Eléctrico</h4>
                        <p style="font-size: 0.8rem;">Cuidado con cables expuestos o equipos conectados al medir piezas metálicas.</p>
                    </div>
                    <div class="safety-card safety-warning">
                        <i class="fas fa-temperature-high safety-icon"></i>
                        <h4>Alta Temperatura</h4>
                        <p style="font-size: 0.8rem;">No midas piezas recién mecanizadas o calientes. El metal se expande y falsea la medida.</p>
                    </div>
                    <div class="safety-card safety-warning">
                        <i class="fas fa-cut safety-icon"></i>
                        <h4>Elementos Afilados</h4>
                        <p style="font-size: 0.8rem;">Las puntas del calibrador son agudas. ¡No las uses como compás ni para rayar!</p>
                    </div>
                </div>

                <h3 style="color: #d32f2f; margin-top: 30px;">2. Prohibiciones</h3>
                <div class="safety-grid">
                    <div class="safety-card safety-forbidden">
                        <i class="fas fa-utensils safety-icon"></i>
                        <h4>Prohibido Comer</h4>
                        <p style="font-size: 0.8rem;">Las migas y líquidos pueden oxidar las herramientas de precisión.</p>
                    </div>
                    <div class="safety-card safety-forbidden">
                        <i class="fas fa-running safety-icon"></i>
                        <h4>Prohibido Correr</h4>
                        <p style="font-size: 0.8rem;">Un tropezón con un calibrador en la mano puede ser un accidente grave.</p>
                    </div>
                </div>

                <h3 style="color: #1976d2; margin-top: 30px;">3. Obligaciones</h3>
                <div class="safety-grid">
                    <div class="safety-card safety-obligatory">
                        <i class="fas fa-glasses safety-icon"></i>
                        <h4>Gafas de Seguridad</h4>
                        <p style="font-size: 0.8rem;">Obligatorio en zonas de mecanizado, incluso si solo estás midiendo.</p>
                    </div>
                    <div class="safety-card safety-obligatory">
                        <i class="fas fa-trash-alt safety-icon"></i>
                        <h4>Orden y Aseo</h4>
                        <p style="font-size: 0.8rem;">Usa las papeleras. Un taller limpio es un taller seguro.</p>
                    </div>
                </div>
            </div>

            <div id="sec-5" class="activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-check-double"></i> Normas de Convivencia y Uso</h2>
                </div>
                
                <ul class="rec-list">
                    <li class="rec-item">
                        <div class="rec-icon"><i class="fas fa-laptop"></i></div>
                        <div>
                            <strong>Cuidado de Equipos:</strong> Hacer uso adecuado de los materiales y equipos de cómputo es fundamental para un entorno óptimo.
                        </div>
                    </li>
                    <li class="rec-item">
                        <div class="rec-icon"><i class="fas fa-chair"></i></div>
                        <div>
                            <strong>Ergonomía:</strong> Ajustar sillas y mantener postura adecuada previene molestias físicas durante el diseño.
                        </div>
                    </li>
                    <li class="rec-item">
                        <div class="rec-icon"><i class="fas fa-user-injured"></i></div>
                        <div>
                            <strong>Desplazamiento Seguro:</strong> Prohibido correr. Podrías caer sobre maquinaria o dañar los calibradores.
                        </div>
                    </li>
                    <li class="rec-item">
                        <div class="rec-icon"><i class="fas fa-eye"></i></div>
                        <div>
                            <strong>Pausas Activas:</strong> Realizar pausas regulares al usar pantallas reduce el riesgo de fatiga visual.
                        </div>
                    </li>
                    <li class="rec-item">
                        <div class="rec-icon"><i class="fas fa-box-open"></i></div>
                        <div>
                            <strong>Orden:</strong> Organizar el espacio y asegurar que todo quede en su lugar facilita el trabajo del siguiente grupo.
                        </div>
                    </li>
                    <li class="rec-item">
                        <div class="rec-icon"><i class="fas fa-recycle"></i></div>
                        <div>
                            <strong>Residuos:</strong> Disposición adecuada de residuos según código de colores (Verde, Blanco, Negro).
                        </div>
                    </li>
                </ul>
            </div>

            <div id="sec-6" class="activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> Reto: Exploradores de Medidas</h2>
                </div>

                <div class="info-grid">
                    <img src="imagenes/Personajes/TecnoBot/Anexo_TecnoAcademia.png" alt="TecnoBot Instrucción" style="max-width: 200px; margin: 0 auto;">
                    <div>
                        <h3 style="color: var(--sena-blue);">¡Hora Maker!</h3>
                        <p>Hemos encontrado nuestra herramienta principal en el laberinto. ¡Vamos a revisar nuestro prototipo físico y compararlo con el digital!</p>
                        <br>
                        <h4><i class="fas fa-users"></i> Orientaciones:</h4>
                        <ol style="margin-left: 20px; line-height: 2;">
                            <li>Conforma grupos de <strong>3 personas</strong>.</li>
                            <li>Busca <strong>4 piezas diferentes</strong> en el ambiente (tornillos, tuercas, tapas, piezas impresas).</li>
                            <li><strong>Dibuja</strong> las piezas en una hoja (Boceto).</li>
                            <li>Mide con el calibrador y <strong>anota las cotas</strong> (medidas) en tu dibujo.</li>
                            <li>Socializa con el facilitador para validar la precisión.</li>
                        </ol>
			<div style="margin-top: 25px; border-top: 1px solid #eee; padding-top: 20px;">
    <p style="font-size: 0.9rem; color: var(--text-gray); margin-bottom: 10px;">
        <i class="fas fa-info-circle"></i> ¿Necesitas la guía detallada para el registro de medidas?
    </p>
    <a href="documentos/Anexos/Anexo_G2_Taller 4_ Calipherworldker (Mundo del calibrador para makers)/Anexo_G2_Taller 4_ Calipherworldker (Mundo del calibrador para makers).pdf" 
       target="_blank" 
       class="btn-download" 
       style="background-color: var(--sena-blue); box-shadow: 0 4px 0 #001a29;">
        <i class="fas fa-file-pdf"></i> Abrir Anexo de Reto
    </a>
</div>
                    </div>
                </div>

                <hr style="border: 0; border-top: 2px dashed #eee; margin: 30px 0;">

                <h3><i class="fas fa-comments"></i> Reflexión Interactiva</h3>
                <p>Responde sinceramente para desbloquear la siguiente fase:</p>

                <div class="chat-container">
                    <div class="chat-bubble bot-bubble">
                        Hola, soy tu asistente virtual. ¿Qué fue lo primero que pensaste al ver todas esas líneas y números en el calibrador?
                    </div>
                    <div id="chat-history"></div>
                    
                    <div class="chat-input-area">
                        <input type="text" id="user-reflection" class="chat-input" placeholder="Escribe tu respuesta aquí...">
                        <button class="btn-primary" onclick="submitReflection()"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>

            <div id="sec-7" class="activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-puzzle-piece"></i> Desafío Mental Final</h2>
                    <p>Demuestra que dominas el lenguaje técnico.</p>
                </div>

                <div class="game-area">
                    <h3>¿Quién soy?</h3>
                    <p style="margin-bottom: 20px;">Lee la pista y selecciona la palabra correcta.</p>

                    <div class="clue-box" id="game-clue">
                        [Cargando Pista...]
                    </div>

                    <div class="word-options" id="game-options">
                        </div>
                    
                    <p id="game-feedback" style="margin-top: 15px; font-weight: bold; min-height: 24px;"></p>
                </div>

                <div id="final-btn-container" style="display: none; text-align: center; margin-top: 30px;">
    <button class="btn-finalizar" onclick="showCelebration()">
        <i class="fas fa-check-circle"></i> Finalizar Actividad
    </button>
</div>
            </div>

            <div class="nav-buttons">
                <button class="btn-nav btn-prev" onclick="prevSection()"><i class="fas fa-chevron-left"></i> Anterior</button>
                <button class="btn-nav btn-next" onclick="nextSection()">Siguiente <i class="fas fa-chevron-right"></i></button>
            </div>

        </main>
    </div>

    <div id="celebration-overlay">
        <h1 style="font-family: 'Montserrat'; font-size: 3rem; color: var(--sena-orange); margin-bottom: 20px; text-shadow: 2px 2px 10px rgba(0,0,0,0.5);">¡FELICITACIONES!</h1>
        
        <img src="imagenes/Insignias/Insignias Mohs/03 - Insignias MOHS-Esmeralda.png" class="badge-anim" alt="Insignia Esmeralda Ganada">
        
        <p style="font-size: 1.5rem; max-width: 700px; margin-bottom: 10px; font-weight: 300;">Has desbloqueado la <strong>Insignia Esmeralda</strong>.</p>
        <p style="font-size: 1.1rem; color: #bdc3c7; margin-bottom: 30px;">Ahora eres un experto en medición de precisión.</p>
        
        <button class="btn-continuar-curso" onclick="finishModule()">
    Continuar con el Curso <i class="fas fa-rocket"></i>
</button>
    </div>

    <script>
        // VARIABLES DE ESTADO
        let currentSection = 1;
        const totalSections = 7;
	let maxSectionReached = 1; // Nueva variable para rastrear el punto más alto
        const storageKey = 'makerCourseState';
        
        // --- NAVEGACIÓN ---
        function goToSection(secId) {
            // Validar si la sección está "disponible" (opcional, aquí dejamos libre navegación por UX)
            currentSection = secId;
            updateUI();
        }

        function nextSection() {
            if (currentSection < totalSections) {
                currentSection++;
                updateUI();
            }
        }

        function prevSection() {
            if (currentSection > 1) {
                currentSection--;
                updateUI();
            }
        }

        function updateUI() {
            // Actualizar Menú Lateral
            document.querySelectorAll('.menu-item').forEach((el, index) => {
                el.classList.remove('active');
                if (index + 1 === currentSection) el.classList.add('active');
                // Marcar anteriores como completados visualmente
                // Los círculos se quedan marcados según el punto más alto alcanzado
if (index + 1 < maxSectionReached) el.classList.add('completed');
            });

            // Actualizar Secciones
            document.querySelectorAll('.activity-section').forEach(el => el.classList.remove('active'));
            document.getElementById(`sec-${currentSection}`).classList.add('active');

           // Actualizar el récord de sección alcanzada
if (currentSection > maxSectionReached) {
    maxSectionReached = currentSection;
}

// Actualizar Barra de Progreso usando el valor más alto (récord)
const progress = ((maxSectionReached - 1) / (totalSections - 1)) * 100;
document.getElementById('progress-bar').style.width = `${progress}%`;
document.getElementById('progress-text').innerText = `${Math.round(progress)}%`;
            // Controlar botones
            document.querySelector('.btn-prev').style.visibility = currentSection === 1 ? 'hidden' : 'visible';
            document.querySelector('.btn-next').style.display = currentSection === totalSections ? 'none' : 'flex';

            window.scrollTo(0, 0);
        }

        // --- INTERACTIVIDAD SECCIÓN 2 (PARTES) ---
        function showPart(partId) {
            document.querySelectorAll('.part-display').forEach(el => el.classList.remove('visible'));
            document.querySelectorAll('.part-btn').forEach(el => el.classList.remove('active'));
            
            document.getElementById(`desc-${partId}`).classList.add('visible');
            // Encontrar el botón clickeado y activarlo (forma simple)
            const btns = document.querySelectorAll('.part-btn');
            if(partId === 'mordazas-ext') btns[0].classList.add('active');
            if(partId === 'mordazas-int') btns[1].classList.add('active');
            if(partId === 'sonda') btns[2].classList.add('active');
            if(partId === 'nonio') btns[3].classList.add('active');
        }

        // --- INTERACTIVIDAD SECCIÓN 6 (CHAT REFLEXIÓN) ---
        let reflectionStep = 0;
        function submitReflection() {
            const input = document.getElementById('user-reflection');
            const history = document.getElementById('chat-history');
            const text = input.value.trim();

            if (text === "") return;

            // Usuario bubble
            const userDiv = document.createElement('div');
            userDiv.className = 'chat-bubble user-bubble';
            userDiv.innerText = text;
            history.appendChild(userDiv);
            
            input.value = "";

            // Bot response (Simulado)
            setTimeout(() => {
                const botDiv = document.createElement('div');
                botDiv.className = 'chat-bubble bot-bubble';
                
                if (reflectionStep === 0) {
                    botDiv.innerText = "¡Interesante! La precisión es clave. ¿Y crees que es difícil aprender a usarlo? ¿Por qué?";
                    reflectionStep++;
                } else {
                    botDiv.innerText = "Gracias por compartir. ¡Esa actitud es la de un verdadero Maker! Estás listo para el desafío final.";
                }
                history.appendChild(botDiv);
                history.scrollTop = history.scrollHeight;
            }, 800);
        }

        // --- INTERACTIVIDAD SECCIÓN 7 (JUEGO) ---
        const gameData = [
            { word: "NONIO", clue: "Es la parte móvil del calibrador que nos da la precisión decimal." },
            { word: "MORDAZAS", clue: "Parecen mandíbulas y sirven para sujetar la pieza por fuera o por dentro." },
            { word: "SONDA", clue: "Varilla delgada que usamos para medir la profundidad de un agujero." },
            { word: "VERNIER", clue: "Apellido del matemático francés que inventó esta escala en 1631." }
        ];
        
        let currentGameIndex = 0;

        function initGame() {
            if (currentGameIndex >= gameData.length) {
                // Juego terminado
                document.getElementById('game-clue').innerHTML = "<span style='color:var(--sena-green)'>¡Juego Completado!</span>";
                document.getElementById('game-options').style.display = 'none';
                document.getElementById('game-feedback').innerText = "";
                document.getElementById('final-btn-container').style.display = 'block';
                return;
            }

            const currentItem = gameData[currentGameIndex];
            document.getElementById('game-clue').innerText = `Pista: "${currentItem.clue}"`;
            document.getElementById('game-feedback').innerText = "";
            
            const optionsContainer = document.getElementById('game-options');
            optionsContainer.innerHTML = '';

            // Generar opciones (la correcta + 2 aleatorias de la lista)
            let options = [currentItem.word];
            while (options.length < 3) {
                const random = gameData[Math.floor(Math.random() * gameData.length)].word;
                if (!options.includes(random)) options.push(random);
            }
            options.sort(() => Math.random() - 0.5); // Mezclar

            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'word-btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(opt, currentItem.word);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selected, correct) {
            const feedback = document.getElementById('game-feedback');
            if (selected === correct) {
                feedback.style.color = 'var(--sena-green)';
                feedback.innerText = "¡Correcto!";
                currentGameIndex++;
                setTimeout(initGame, 1000);
            } else {
                feedback.style.color = 'red';
                feedback.innerText = "Intenta de nuevo.";
            }
        }

        // --- FINALIZACIÓN ---
        function showCelebration() {
            document.getElementById('celebration-overlay').style.display = 'flex';
        }

        function finishModule() {
            // Lógica de almacenamiento
            let state = JSON.parse(localStorage.getItem(storageKey));
            
            // Si no existe, crear (fallback)
            if (!state) {
                state = { completedModules: [], unlockedModules: [1] };
            }

            // Completar módulo 5
            if (!state.completedModules.includes(5)) {
                state.completedModules.push(5);
            }

            // Desbloquear módulo 6
            if (!state.unlockedModules.includes(6)) {
                state.unlockedModules.push(6);
            }

            localStorage.setItem(storageKey, JSON.stringify(state));
            
            // Redirigir
            window.location.href = 'index.html';
        }

        // INICIALIZACIÓN
        window.onload = function() {
            updateUI();
            initGame();
        };

    </script>
</body>
</html>